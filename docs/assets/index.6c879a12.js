var J=Object.defineProperty,G=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var V=(s,t,r)=>t in s?J(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,F=(s,t)=>{for(var r in t||(t={}))Y.call(t,r)&&V(s,r,t[r]);if(U)for(var r of U(t))Q.call(t,r)&&V(s,r,t[r]);return s},E=(s,t)=>G(s,W(t));import{r as S,o as d,c as u,a as e,b as g,w,d as f,v as Z,F as O,e as P,f as l,t as m,n as K,p as X,g as ee,h as D,i as M,j as $,k as N,l as te,m as se,q as ie,s as ne,u as oe}from"./vendor.3cb64245.js";const ae=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};ae();var v=(s,t)=>{const r=s.__vccOpts||s;for(const[c,i]of t)r[c]=i;return r};const re={data(){return{isMenuOpen:!1}},computed:{routes(){return this.$router.getRoutes()}},mounted(){document.addEventListener("click",this.handleClickOutside),this.$router.afterEach(()=>{this.closeMenu()})},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},closeMenu(){this.isMenuOpen=!1},handleClickOutside(s){const t=this.$el.querySelector(".btn-circle"),r=this.$refs.dropdown;r&&!r.contains(s.target)&&t&&!t.contains(s.target)&&this.closeMenu()}}},H=s=>(X("data-v-8a741cd0"),s=s(),ee(),s),le={id:"app",class:"min-h-screen bg-gray-100"},ce={class:"container mx-auto px-2 py-3"},de={class:"card bg-white shadow-lg max-w-2xl mx-auto"},ue={class:"card-body p-4 pb-24"},me={class:"text-center mb-4"},pe=H(()=>e("h1",{class:"text-lg font-light text-gray-500 tracking-wide"}," \u{1F52D} ATM Buddy ",-1)),he={class:"fixed bottom-4 left-4 z-50"},_e=H(()=>e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),be=[_e],fe={ref:"dropdown",class:"menu bg-white rounded-box shadow-xl p-2 w-64 mb-2 absolute bottom-full left-0"};function ge(s,t,r,c,i,o){const a=S("router-link"),n=S("router-view");return d(),u("div",le,[e("div",ce,[e("div",de,[e("div",ue,[e("div",me,[g(a,{to:"/"},{default:w(()=>[pe]),_:1})]),g(n)])])]),e("div",he,[e("div",{tabindex:"0",role:"button",class:"btn btn-circle btn-primary shadow-lg",onClick:t[0]||(t[0]=(...p)=>o.toggleMenu&&o.toggleMenu(...p))},be),f(e("ul",fe,[(d(!0),u(O,null,P(o.routes,p=>(d(),u("li",{key:p.path},[g(a,{to:p.path,class:K([{"active bg-blue-100 text-blue-800":p.path===s.$route.path},"text-gray-800 text-xs py-2"]),onClick:o.closeMenu},{default:w(()=>[l(m(p.name),1)]),_:2},1032,["to","class","onClick"])]))),128))],512),[[Z,i.isMenuOpen]])])])}var ve=v(re,[["render",ge],["__scopeId","data-v-8a741cd0"]]);const _=(s,t,r)=>{try{return JSON.parse(localStorage.getItem(s))[t]||r}catch{return r}},B=(s,t,r,c,i)=>{try{s[c]=i;const o=E(F({},r),{key:i});return localStorage.setItem(t,JSON.stringify(o)),i}catch{return i}},y=s=>s.toString().replace(",","."),x=s=>{const t=y(s),r=Number(t);return isNaN(r)?0:r},q=()=>{try{const s=JSON.parse(localStorage.getItem("__hardware"))||{};return{spherometers:s.spherometers||[],opticalPieces:s.opticalPieces||[]}}catch{return{spherometers:[],opticalPieces:[]}}},xe=()=>q().spherometers,Se=()=>q().opticalPieces,ye={name:"SpherometerSelector",data(){return{savedSpherometers:[]}},mounted(){this.savedSpherometers=xe()},methods:{loadSpherometer(s){s&&this.$emit("spherometer-selected",s)}}},$e={key:0,class:"mb-3"},we=e("label",{class:"label text-xs font-medium mb-1"},"Load spherometer:",-1),Oe={class:"flex flex-wrap gap-1"},Pe=["onClick"],Re={class:"alert mb-3 py-1"},ke={class:"text-xs"},Ce={key:0},Me=l(" \u{1F4A1} Create spherometers in the "),Ie=l("Hardware"),Ae=l(" tab to quickly load their dimensions here. "),Fe={key:1},De=l(" \u{1F4A1} Manage spherometers in the "),Ne=l("Hardware"),Be=l(" tab. ");function ze(s,t,r,c,i,o){const a=S("router-link");return d(),u("div",null,[i.savedSpherometers.length>0?(d(),u("div",$e,[we,e("div",Oe,[(d(!0),u(O,null,P(i.savedSpherometers,n=>(d(),u("button",{key:n.name,class:"btn btn-info btn-xs",onClick:p=>o.loadSpherometer(n)},m(n.name),9,Pe))),128))])])):D("",!0),e("div",Re,[e("div",ke,[i.savedSpherometers.length===0?(d(),u("p",Ce,[Me,g(a,{to:"/hardware",class:"link"},{default:w(()=>[Ie]),_:1}),Ae])):(d(),u("p",Fe,[De,g(a,{to:"/hardware",class:"link"},{default:w(()=>[Ne]),_:1}),Be]))])])])}var L=v(ye,[["render",ze]]);const Te={name:"App",data(){return{r:"40",s:"3",b:"3",curve:"concave"}},components:{SpherometerSelector:L},methods:{normalize:y,onSpherometerSelected(s){this.r=s.feetRadius.toString(),this.b=s.ballRadius2.toString()}},computed:{roc(){const s=x(this.r),t=x(this.s),r=this.curve==="concave"?x(this.b):-x(this.b);return(s*s+t*t)/(2*t)+r/2}}},Ue=e("div",{class:"card-title justify-center mb-3"},[e("div",{class:"badge badge-outline badge-sm"}," ROC = (r\xB2 + s\xB2) / 2s \xB1 b/2 ")],-1),Ve={class:"alert alert-success mt-4 py-2"},Ee={class:"text-sm font-semibold"},je=l("ROC: "),He=l(" mm"),qe={class:"field-horizontal"},Le=e("label",{class:"label text-xs font-medium"},"Radius of feet (mm):",-1),Je=["value"],Ge={class:"field-horizontal"},We=e("label",{class:"label text-xs font-medium"},"Sagitta (mm):",-1),Ye=["value"],Qe={class:"field-horizontal"},Ze=e("label",{class:"label text-xs font-medium"},"Ball diameter (mm):",-1),Ke=["value"],Xe={class:"field-horizontal"},et=e("label",{class:"label text-xs font-medium"},"Curve:",-1),tt={class:"flex gap-3"},st={class:"cursor-pointer flex items-center gap-1"},it=e("span",{class:"text-xs"},"Concave",-1),nt={class:"cursor-pointer flex items-center gap-1"},ot=e("span",{class:"text-xs"},"Convex",-1);function at(s,t,r,c,i,o){const a=S("SpherometerSelector");return d(),u("div",null,[Ue,g(a,{onSpherometerSelected:o.onSpherometerSelected},null,8,["onSpherometerSelected"]),e("div",Ve,[e("span",Ee,[je,e("strong",null,m(o.roc.toFixed(2)),1),He])]),e("div",qe,[Le,e("input",{class:"input input-bordered input-sm w-full",value:i.r,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[0]||(t[0]=n=>i.r=n.target.value)},null,40,Je)]),e("div",Ge,[We,e("input",{class:"input input-bordered input-sm w-full",inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",value:i.s,onInput:t[1]||(t[1]=n=>i.s=n.target.value)},null,40,Ye)]),e("div",Qe,[Ze,e("input",{class:"input input-bordered input-sm w-full",value:i.b,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[2]||(t[2]=n=>i.b=n.target.value)},null,40,Ke)]),e("div",Xe,[et,e("div",tt,[e("label",st,[f(e("input",{type:"radio",value:"concave","onUpdate:modelValue":t[3]||(t[3]=n=>i.curve=n),class:"radio radio-primary radio-sm"},null,512),[[M,i.curve]]),it]),e("label",nt,[f(e("input",{type:"radio",value:"convex","onUpdate:modelValue":t[4]||(t[4]=n=>i.curve=n),class:"radio radio-primary radio-sm"},null,512),[[M,i.curve]]),ot])])])])}var rt=v(Te,[["render",at]]);const lt={name:"App",data(){return{R:"2500",r:"35",b:"3",curve:"concave"}},components:{SpherometerSelector:L},methods:{normalize:y,onSpherometerSelected(s){this.r=s.feetRadius.toString(),this.b=s.ballRadius2.toString()}},computed:{sag(){const s=x(this.r),t=x(this.R),r=this.curve==="convex"?x(this.b):-x(this.b),c=t+r/2;return c-Math.sqrt(c*c-s*s)}}},ct=e("div",{class:"card-title justify-center mb-3"},[e("div",{class:"badge badge-outline badge-sm"}," Sagitta = ROC \xB1 b/2 - sqrt((ROC \xB1 b/2)\xB2 - r\xB2) ")],-1),dt={class:"alert alert-success mt-4 py-2"},ut={class:"text-sm font-semibold"},mt=l("Sagitta: "),pt=l(" mm"),ht={class:"field-horizontal"},_t=e("label",{class:"label text-xs font-medium"},"Radius of feet (mm):",-1),bt=["value"],ft={class:"field-horizontal"},gt=e("label",{class:"label text-xs font-medium"},"Desired ROC (mm):",-1),vt=["value"],xt={class:"field-horizontal"},St=e("label",{class:"label text-xs font-medium"},"Ball diameter (mm):",-1),yt=["value"],$t={class:"field-horizontal"},wt=e("label",{class:"label text-xs font-medium"},"Curve:",-1),Ot={class:"flex gap-3"},Pt={class:"cursor-pointer flex items-center gap-1"},Rt=e("span",{class:"text-xs"},"Concave",-1),kt={class:"cursor-pointer flex items-center gap-1"},Ct=e("span",{class:"text-xs"},"Convex",-1);function Mt(s,t,r,c,i,o){const a=S("SpherometerSelector");return d(),u("div",null,[ct,g(a,{onSpherometerSelected:o.onSpherometerSelected},null,8,["onSpherometerSelected"]),e("div",dt,[e("span",ut,[mt,e("strong",null,m(o.sag.toFixed(3)),1),pt])]),e("div",ht,[_t,e("input",{class:"input input-bordered input-sm w-full",inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",value:i.r,onInput:t[0]||(t[0]=n=>i.r=n.target.value)},null,40,bt)]),e("div",ft,[gt,e("input",{class:"input input-bordered input-sm w-full",inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",value:i.R,onInput:t[1]||(t[1]=n=>i.R=n.target.value)},null,40,vt)]),e("div",xt,[St,e("input",{class:"input input-bordered input-sm w-full",inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",value:i.b,onInput:t[2]||(t[2]=n=>i.b=n.target.value)},null,40,yt)]),e("div",$t,[wt,e("div",Ot,[e("label",Pt,[f(e("input",{type:"radio",value:"concave","onUpdate:modelValue":t[3]||(t[3]=n=>i.curve=n),class:"radio radio-primary radio-sm"},null,512),[[M,i.curve]]),Rt]),e("label",kt,[f(e("input",{type:"radio",value:"convex","onUpdate:modelValue":t[4]||(t[4]=n=>i.curve=n),class:"radio radio-primary radio-sm"},null,512),[[M,i.curve]]),Ct])])])])}var It=v(lt,[["render",Mt]]);const At={name:"OpticalPieceSelector",data(){return{savedOpticalPieces:[]}},mounted(){this.savedOpticalPieces=Se()},methods:{loadOpticalPiece(s){s&&this.$emit("optical-piece-selected",s)}}},Ft={key:0,class:"mb-3"},Dt=e("label",{class:"label text-xs font-medium mb-1"},"Load optical piece:",-1),Nt={class:"flex flex-wrap gap-1"},Bt=["onClick"],zt={class:"alert mb-3 py-1"},Tt={class:"text-xs"},Ut={key:0},Vt=l(" \u{1F4A1} Create optical pieces in the "),Et=l("Hardware"),jt=l(" tab to quickly load their dimensions here. "),Ht={key:1},qt=l(" \u{1F4A1} Manage optical pieces in the "),Lt=l("Hardware"),Jt=l(" tab. ");function Gt(s,t,r,c,i,o){const a=S("router-link");return d(),u("div",null,[i.savedOpticalPieces.length>0?(d(),u("div",Ft,[Dt,e("div",Nt,[(d(!0),u(O,null,P(i.savedOpticalPieces,n=>(d(),u("button",{class:"btn btn-info btn-xs",onClick:p=>o.loadOpticalPiece(n),key:n.name},m(n.name),9,Bt))),128))])])):D("",!0),e("div",zt,[e("div",Tt,[i.savedOpticalPieces.length===0?(d(),u("p",Ut,[Vt,g(a,{to:"/hardware",class:"link"},{default:w(()=>[Et]),_:1}),jt])):(d(),u("p",Ht,[qt,g(a,{to:"/hardware",class:"link"},{default:w(()=>[Lt]),_:1}),Jt]))])])])}var I=v(At,[["render",Gt]]);const Wt={name:"App",components:{OpticalPieceSelector:I},data(){return{r:"125",R:"2500"}},methods:{normalize:y,onOpticalPieceSelected(s){this.R=s.radiusOfCurvature.toString()}},computed:{x(){const s=x(this.r),t=x(this.R),r=s/t;return Math.asin(r)*(180/Math.PI)}}},Yt=e("div",{class:"card-title justify-center mb-3"},[e("div",{class:"badge badge-outline badge-sm"}," Sine table: sin(x) = r / R ")],-1),Qt=e("div",{class:"alert mb-3 py-2"},[e("div",null,[e("p",{class:"text-xs"},[l(" Where x is the angle between the two planes."),e("br"),l(" r is the cup radius"),e("br"),l("(measure outside for a concave curve, inside for a convex curve !) ")])])],-1),Zt={class:"alert alert-success mt-4 py-2"},Kt={class:"text-sm font-semibold"},Xt=l("Angle x in degrees: "),es={class:"field-horizontal"},ts=e("label",{class:"label text-xs font-medium"},"Cup radius (mm):",-1),ss=["value"],is={class:"field-horizontal"},ns=e("label",{class:"label text-xs font-medium"},"Desired ROC (mm):",-1),os=["value"];function as(s,t,r,c,i,o){const a=S("OpticalPieceSelector");return d(),u("div",null,[Yt,Qt,g(a,{onOpticalPieceSelected:o.onOpticalPieceSelected},null,8,["onOpticalPieceSelected"]),e("div",Zt,[e("span",Kt,[Xt,e("strong",null,m(o.x.toFixed(2))+"\xB0",1)])]),e("div",es,[ts,e("input",{class:"input input-bordered input-sm w-full",value:i.r,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[0]||(t[0]=n=>i.r=n.target.value)},null,40,ss)]),e("div",is,[ns,e("input",{class:"input input-bordered input-sm w-full",value:i.R,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[1]||(t[1]=n=>i.R=n.target.value)},null,40,os)])])}var rs=v(Wt,[["render",as]]);const ls={name:"App",data(){return{f:"1200",d:"300"}},components:{OpticalPieceSelector:I},methods:{normalize:y,onOpticalPieceSelected(s){this.d=(s.radius*2).toString(),this.f=(s.radiusOfCurvature/2).toString()}},computed:{ratio(){const s=x(this.f),t=x(this.d);return s/t},correction(){return x(this.d)/(1.1264*(this.ratio*this.ratio*this.ratio))},undercorrection(){const s=4/this.ratio;return s*s*s*s*.81},target(){return-1-this.undercorrection/this.correction}}},cs=e("div",{class:"card-title justify-center mb-3"},[e("div",{class:"badge badge-outline badge-sm"}," Baader MPCC Conic calculator ")],-1),ds=e("div",{class:"alert alert mb-3 py-1"},[e("div",{class:"text-xs"},[e("p",null,[l(" In waves @550nm:"),e("br"),l("Correction of a parabola: D (mm) / (1.1264 * (F/D)^3)"),e("br"),l("MPCC S.A. undercorrection: (4 / (F/D))^4 * 0.81 ")])])],-1),us={class:"alert alert-success mt-4 py-2"},ms={class:"text-xs"},ps=e("strong",null,"Focal ratio:",-1),hs=e("strong",null,"Parabola correction:",-1),_s=e("strong",null,"MPCC Undercorrection:",-1),bs=e("strong",null,"Target conic:",-1),fs={class:"field-horizontal"},gs=e("label",{class:"label text-xs font-medium"},"Diameter (mm):",-1),vs=["value"],xs={class:"field-horizontal"},Ss=e("label",{class:"label text-xs font-medium"},"Focal length (mm):",-1),ys=["value"];function $s(s,t,r,c,i,o){const a=S("OpticalPieceSelector");return d(),u("div",null,[cs,ds,g(a,{onOpticalPieceSelected:o.onOpticalPieceSelected},null,8,["onOpticalPieceSelected"]),e("div",us,[e("div",ms,[e("p",null,[ps,l(" "+m(o.ratio.toFixed(2)),1)]),e("p",null,[hs,l(" "+m(o.correction.toFixed(2)),1)]),e("p",null,[_s,l(" "+m(o.undercorrection.toFixed(2)),1)]),e("p",null,[bs,l(" "+m(o.target.toFixed(3)),1)])])]),e("div",fs,[gs,e("input",{class:"input input-bordered input-sm w-full",value:i.d,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[0]||(t[0]=n=>i.d=n.target.value)},null,40,vs)]),e("div",xs,[Ss,e("input",{class:"input input-bordered input-sm w-full",value:i.f,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[1]||(t[1]=n=>i.f=n.target.value)},null,40,ys)])])}var ws=v(ls,[["render",$s]]);const Os={name:"App",components:{OpticalPieceSelector:I},data(){return{b:Number(y(_("__baseqty","b","150"))),bomItems:this.loadBomItems(),diameter:150}},methods:{set(s,t){B(this,"__baseqty",{f:this.f,d:this.d},s,t)},normalize:y,onOpticalPieceSelected(s){this.diameter=s.radius*2},loadBomItems(){const s=[{name:"Gloves",checked:!1},{name:"Chalk to wash the mirrors",checked:!1},{name:"Mirror stands",checked:!1},{name:"Anti-projection box",checked:!1},{name:"Hairdryer",checked:!1},{name:"Hydrophilic cotton",checked:!1},{name:"Demin. water",checked:!1},{name:"Stands for the mirrors",checked:!1},{name:"A box in which to silver",checked:!1},{name:"Glucose",checked:!1},{name:"Silver nitrate",checked:!1},{name:"Sodium hydroxide",checked:!1},{name:"Ammonia",checked:!1},{name:"Two sprayers",checked:!1},{name:"Containers",checked:!1},{name:"FFP2 masks",checked:!1}],t=localStorage.getItem("bomItems");if(t){const r=JSON.parse(t);return r?(s.forEach(c=>{r.find(i=>i.name===c.name)||r.push(c)}),r):s}return s},resetBom(){this.bomItems=null,this.saveBomItems()},saveBomItems(){localStorage.setItem("bomItems",JSON.stringify(this.bomItems))}},watch:{bomItems:{handler(){this.saveBomItems()},deep:!0}},computed:{cleaning_time(){const s=Math.pow(this.diameter/15,1.4).toFixed(2),t=Math.floor(s/60),r=Math.trunc(s-t*60),c=i=>(i+"").padStart("0",2);return`${c(t)}h${c(r)}m`},silver(){return Number((1.6*(this.b/150)).toFixed(2))},soda(){return Number((2.5*(this.b/150)).toFixed(2))},sugarwater(){return Number((300*(this.b/150)).toFixed(2))},sugar(){return Number((12*(this.b/150)).toFixed(2))},firstQty(){return Number((100*(this.b/150)).toFixed(2))}}},Ps=e("div",{class:"card-title justify-center mb-3"},[e("div",{class:"badge badge-outline badge-sm"}," Spray silvering proportions & recipe ")],-1),Rs=e("div",{class:"alert mb-3 py-1"},[e("div",{class:"text-xs"},[e("p",null,[l(" Base quantity is 150ml distilled water + 1.6g silver nitrate."),e("br"),l(" Other quantities are derived from that."),e("br"),l(" Recipe from Gerhard S. on Cloudy Nights ")])])],-1),ks={class:"card bg-base-200 p-3 mb-3"},Cs=e("h3",{class:"text-sm font-semibold mb-2"},"BOM for a session",-1),Ms={class:"grid grid-cols-2 gap-1 mb-2"},Is=["onUpdate:modelValue"],As={class:"text-xs"},Fs=N('<div class="card bg-base-200 p-3 mb-3"><div class="flex items-center gap-2 mb-2"><span class="badge badge-neutral badge-sm">Step 0</span><h2 class="text-sm font-bold">Calibrate bottles</h2></div><p class="text-xs"> Calibrate <span class="badge badge-neutral badge-xs">Bottle 1</span> and <span class="badge badge-error badge-xs">Bottle 2</span> with water, ensuring that the same quantity of water is sprayed with 100 sprays. </p></div>',1),Ds={class:"card bg-base-200 p-3 mb-3"},Ns=e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"badge badge-primary badge-sm"},"Step 1"),e("h2",{class:"text-sm font-bold"},"Prepare the solutions")],-1),Bs={class:"field-horizontal"},zs=e("label",{class:"label text-xs font-medium"},"Base quantity (ml):",-1),Ts=["value"],Us={class:"card bg-base-200 p-3 mb-3"},Vs={class:"space-y-2 text-xs"},Es=e("span",{class:"badge badge-info badge-sm"},"Solution 1",-1),js=l(": "),Hs=l(" silver nitrate + "),qs=l(" distilled water "),Ls=e("span",{class:"badge badge-success badge-sm"},"Solution 2",-1),Js=l(": "),Gs=l(" sodium hydroxide + "),Ws=l(" distilled water "),Ys=e("span",{class:"badge badge-warning badge-sm"},"Solution 3",-1),Qs=l(": "),Zs=l(" glucose + "),Ks=l(" distilled water "),Xs=N('<div class="alert alert-info mb-3 py-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div class="text-xs"><p><span class="badge badge-neutral badge-xs">Bottle 1</span> is the mixed solution according to below instructions. </p><p><span class="badge badge-error badge-xs">Bottle 2</span> contains the sugar <span class="badge badge-warning badge-xs">Solution 3</span></p></div></div>',1),ei={class:"card bg-base-200 p-3 mb-3"},ti=e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"badge badge-secondary badge-sm"},"Step 2"),e("h2",{class:"text-sm font-bold"},[l(" Mixing of silver solution (becomes "),e("span",{class:"badge badge-neutral badge-xs"},"Bottle 1"),l(") ")])],-1),si={class:"list-disc list-inside space-y-2 text-xs"},ii=l(" 1 : Pour about "),ni=l(" of "),oi=e("span",{class:"badge badge-info badge-xs"},"Solution 1",-1),ai=l(" into a mixing bowl. "),ri=N('<li> 2 : Add <strong>a few drops</strong> of <strong>ammonia solution (25% dilution)</strong></li><li> 3 : Add <strong>all of</strong><span class="badge badge-success badge-xs">Solution 2</span></li><li> 4 : Add <strong>the rest</strong> of <span class="badge badge-info badge-xs">Solution 1</span> (the solution will turn brown) </li><li> 5 : Carefully add <strong>ammonia solution drop by drop</strong> while stirring until a transparent, slightly brownish solution is obtained. </li>',4),li=e("p",null," Any precipitate that may still be present should be completely dissolved ",-1),ci=e("hr",null,null,-1),di=e("h2",{class:"title"},"Step 2 : clean the mirror",-1),ui=e("p",null,[l(" Use chalk precipitate in distilled/demin water on small cotton balls. Change often and start with thick sauce, thinning it progressively. The center will clean fast but the edge and chamfer need a LOT of time."),e("br"),l("Rough guideline : (diameter_in_mm/15)^1.4 = time in minutes."),e("br"),l("Yes, that is an advice of 1h40 for a 400mm mirror."),e("br"),l("Rinse with demin water and if possible, high pressure. ")],-1),mi={for:"",class:"label is-small"},pi=l(" Mirror diameter in mm: "),hi=e("hr",null,null,-1),_i=e("h2",{class:"title"},"Step 3 : spray the mirror",-1),bi=e("p",null,[l(" Spray the mirror with both sprays, ensuring that they mix on the surface. You will see a faint blue film appear first."),e("br"),l("Then it will turn yellowish. If you see dark brown or black streaks, this means your cleaning wasn't thorough enough."),e("br"),l("A thin coating is preferable to a thick one and it should still be a tad transparent at the end. ")],-1),fi=e("hr",null,null,-1),gi=e("h2",{class:"title"},"Step 4 : dry & store",-1),vi=e("p",null," Immediately dry with a hot air gun and store in an airtight box with dessicant packs, or better, silver protector felt. Silver protector felt is felt impregnated with tiny silver particles that are there to react with oxydants first and protect your coating. ",-1);function xi(s,t,r,c,i,o){const a=S("OpticalPieceSelector");return d(),u("div",null,[Ps,Rs,e("div",ks,[Cs,e("div",Ms,[(d(!0),u(O,null,P(i.bomItems,(n,p)=>(d(),u("div",{key:p,class:"flex items-center gap-1"},[f(e("input",{type:"checkbox","onUpdate:modelValue":b=>n.checked=b,class:"checkbox checkbox-sm"},null,8,Is),[[te,n.checked]]),e("span",As,m(n.name),1)]))),128))]),e("button",{class:"btn btn-sm btn-outline",onClick:t[0]||(t[0]=(...n)=>o.resetBom&&o.resetBom(...n))}," Reset BOM ")]),Fs,e("div",Ds,[Ns,e("div",Bs,[zs,e("input",{type:"number",class:"input input-bordered input-sm w-full",value:i.b,onInput:t[1]||(t[1]=n=>o.set("b",n.target.value))},null,40,Ts)])]),e("div",Us,[e("div",Vs,[e("p",null,[Es,js,e("strong",null,m(o.silver)+"g",1),Hs,e("strong",null,m(i.b)+"ml",1),qs]),e("p",null,[Ls,Js,e("strong",null,m(o.soda)+"g",1),Gs,e("strong",null,m(i.b)+"ml",1),Ws]),e("p",null,[Ys,Qs,e("strong",null,m(o.sugar)+"g",1),Zs,e("strong",null,m(o.sugarwater)+"ml",1),Ks])])]),Xs,e("div",ei,[ti,e("ul",si,[e("li",null,[ii,e("strong",null,m(o.firstQty)+"ml",1),ni,oi,ai]),ri])]),li,ci,di,ui,g(a,{onOpticalPieceSelected:o.onOpticalPieceSelected},null,8,["onOpticalPieceSelected"]),e("label",mi,[pi,f(e("input",{class:"input is-small",type:"text",placeholder:"diameter","onUpdate:modelValue":t[2]||(t[2]=n=>i.diameter=n)},null,512),[[$,i.diameter]])]),e("p",null," Cleaning time : "+m(o.cleaning_time),1),hi,_i,bi,fi,gi,vi])}var Si=v(Os,[["render",xi]]),yi="/atm-buddy/stiggy.png";const $i={},wi=N('<h3 class="subtitle" style="margin-bottom:0;"> Astigmatism correction reminder. </h3><p> Fix by following the &quot;Polish&quot; column with straight strokes with a full size tool. </p><table class="table" style="margin-bottom:0.75em;margin:auto;"><thead><tr><th>Axis</th><th>Elevation</th><th>Radius</th><th>Fix</th></tr></thead><tbody><tr><td><span class="tag is-danger">Red</span></td><td><strong>HIGH</strong></td><td><strong>SHORT</strong></td><td><strong>TOT</strong></td></tr><tr><td><span class="tag is-info">Blue</span></td><td><strong>LOW</strong></td><td><strong>LONG</strong></td><td><strong>MOT</strong></td></tr></tbody></table><img src="'+yi+'">',4),Oi=[wi];function Pi(s,t){return d(),u("div",null,Oi)}var Ri=v($i,[["render",Pi]]);const j=s=>Number(y(s)),ki={name:"SagittaCalculator",data(){return{r:_("__sagitta","r","100"),roc:_("__sagitta","roc","2000")}},components:{OpticalPieceSelector:I},methods:{set(s,t){B(this,"__sagitta",{r:this.r,roc:this.roc},s,t)},normalize:y,onOpticalPieceSelected(s){this.set("r",s.radius.toString()),this.set("roc",s.radiusOfCurvature.toString())}},computed:{sagitta(){const s=j(this.r),t=j(this.roc);return t===0?0:s*s/(2*t)}}},Ci=e("div",{class:"card-title justify-center mb-3"},[e("div",{class:"badge badge-outline badge-sm"}," Sagitta = r\xB2 / (2 \xD7 ROC) ")],-1),Mi={class:"alert alert-success mt-4 py-2"},Ii={class:"text-sm font-semibold"},Ai=l("Sagitta: "),Fi=l(" mm"),Di={class:"field-horizontal"},Ni=e("label",{class:"label text-xs font-medium"},"Mirror radius (mm):",-1),Bi=["value"],zi={class:"field-horizontal"},Ti=e("label",{class:"label text-xs font-medium"},"ROC (mm):",-1),Ui=["value"];function Vi(s,t,r,c,i,o){const a=S("OpticalPieceSelector");return d(),u("div",null,[Ci,g(a,{onOpticalPieceSelected:o.onOpticalPieceSelected},null,8,["onOpticalPieceSelected"]),e("div",Mi,[e("span",Ii,[Ai,e("strong",null,m(o.sagitta.toFixed(3)),1),Fi])]),e("div",Di,[Ni,e("input",{class:"input input-bordered input-sm w-full",value:i.r,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[0]||(t[0]=n=>o.set("r",n.target.value))},null,40,Bi)]),e("div",zi,[Ti,e("input",{class:"input input-bordered input-sm w-full",inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",value:i.roc,onInput:t[1]||(t[1]=n=>o.set("roc",n.target.value))},null,40,Ui)])])}var Ei=v(ki,[["render",Vi]]);const h=s=>Number(y(s)),ji={name:"AnnularRing",components:{OpticalPieceSelector:I},data(){return{mirrorDiameter:_("__annular","mirrorDiameter","200"),startRadius:_("__annular","startRadius","0.95"),endRadius:_("__annular","endRadius","0.85"),inputMode:_("__annular","inputMode","percent"),centralObstruction:_("__annular","centralObstruction","0.3")}},mounted(){this.drawCanvas()},methods:{set(s,t){B(this,"__annular",{mirrorDiameter:this.mirrorDiameter,startRadius:this.startRadius,endRadius:this.endRadius,inputMode:this.inputMode,centralObstruction:this.centralObstruction},s,t)},normalize:y,onOpticalPieceSelected(s){this.set("mirrorDiameter",s.radius*2)},drawCanvas(){const s=this.$refs.canvas;if(!s)return;const t=s.getContext("2d"),r=60,c=60,i=50;t.clearRect(0,0,120,120),t.fillStyle="white",t.fillRect(0,0,120,120);const a=h(this.mirrorDiameter)/2;let n,p;this.inputMode==="percent"?(n=a*h(this.startRadius),p=a*h(this.endRadius)):(n=h(this.startRadius),p=h(this.endRadius));let b;this.inputMode==="percent"?b=a*h(this.centralObstruction):b=h(this.centralObstruction);const R=i/a,A=a*R,z=Math.max(n,p)*R,k=Math.min(n,p)*R,T=b*R;t.beginPath(),t.arc(r,c,A,0,2*Math.PI),t.strokeStyle="#333",t.lineWidth=2,t.stroke(),z>k&&(t.save(),t.beginPath(),t.arc(r,c,z,0,2*Math.PI),t.arc(r,c,k,0,2*Math.PI,!0),t.fillStyle="rgba(220, 80, 80, 0.6)",t.fill(),t.restore()),T>0&&(t.beginPath(),t.arc(r,c,T,0,2*Math.PI),t.fillStyle="#000",t.fill())}},computed:{startRadiusMm(){const t=h(this.mirrorDiameter)/2;return this.inputMode==="percent"?t*h(this.startRadius):h(this.startRadius)},endRadiusMm(){const t=h(this.mirrorDiameter)/2;return this.inputMode==="percent"?t*h(this.endRadius):h(this.endRadius)},obstructionRadiusMm(){const t=h(this.mirrorDiameter)/2;return this.inputMode==="percent"?t*h(this.centralObstruction):h(this.centralObstruction)},surfaceArea(){const s=Math.max(this.startRadiusMm,this.endRadiusMm),t=Math.min(this.startRadiusMm,this.endRadiusMm);return Math.PI*(s*s-t*t)},totalMirrorArea(){const s=h(this.mirrorDiameter);return Math.PI*(s/2)*(s/2)},unobstructedMirrorArea(){const s=Math.PI*this.obstructionRadiusMm*this.obstructionRadiusMm;return this.totalMirrorArea-s},percentageTotal(){return this.surfaceArea/this.totalMirrorArea*100},percentageUnobstructed(){return this.unobstructedMirrorArea<=0?0:this.surfaceArea/this.unobstructedMirrorArea*100}},watch:{mirrorDiameter(){this.$nextTick(()=>this.drawCanvas())},startRadius(){this.$nextTick(()=>this.drawCanvas())},endRadius(){this.$nextTick(()=>this.drawCanvas())},inputMode(){this.$nextTick(()=>this.drawCanvas())},centralObstruction(){this.$nextTick(()=>this.drawCanvas())}}},Hi=e("div",{class:"card-title justify-center mb-3"},[e("div",{class:"badge badge-outline badge-sm"},"Annular Ring Surface Area Calculator")],-1),qi={class:"field-horizontal"},Li=e("label",{class:"label text-xs font-medium"},"Mirror diameter (mm):",-1),Ji=["value"],Gi={class:"field-horizontal"},Wi=e("label",{class:"label text-xs font-medium"},"Input mode:",-1),Yi={class:"flex gap-3"},Qi={class:"cursor-pointer flex items-center gap-1"},Zi=e("span",{class:"text-xs"},"0..1",-1),Ki={class:"cursor-pointer flex items-center gap-1"},Xi=e("span",{class:"text-xs"},"Millimeters",-1),en={class:"field-horizontal"},tn={class:"label text-xs font-medium"},sn=["value"],nn={class:"field-horizontal"},on={class:"label text-xs font-medium"},an=["value"],rn={class:"field-horizontal"},ln={class:"label text-xs font-medium"},cn=["value"],dn={style:{display:"flex","align-items":"flex-start",gap:"20px","flex-wrap":"wrap"}},un={style:{flex:"1"}},mn=e("h4",{class:"subtitle is-6"},"Results:",-1),pn={class:"content"},hn={class:"field is-horizontal"},_n=e("label",{class:"label"},"Surface Area:",-1),bn={class:"has-text-weight-bold"},fn={class:"field is-horizontal"},gn=e("label",{class:"label"},"Of Total Area:",-1),vn={class:"has-text-weight-bold"},xn=l("Of Unobstructed Area: "),Sn=l("%"),yn=e("p",null,[l("Should you fix it? "),e("strong",null,"yes")],-1),$n=e("div",null,null,-1),wn={class:"card bg-base-200 p-3 mt-3"},On=e("h4",{class:"text-sm font-semibold mb-2"},"Visual:",-1),Pn={class:"flex justify-center"},Rn={ref:"canvas",width:"120",height:"120",class:"border border-gray-300 rounded"};function kn(s,t,r,c,i,o){const a=S("OpticalPieceSelector");return d(),u("div",null,[Hi,g(a,{onOpticalPieceSelected:o.onOpticalPieceSelected},null,8,["onOpticalPieceSelected"]),e("div",qi,[Li,e("input",{class:"input input-bordered input-sm w-full",value:i.mirrorDiameter,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[0]||(t[0]=n=>o.set("mirrorDiameter",n.target.value))},null,40,Ji)]),e("div",Gi,[Wi,e("div",Yi,[e("label",Qi,[f(e("input",{type:"radio",value:"percent","onUpdate:modelValue":t[1]||(t[1]=n=>i.inputMode=n),class:"radio radio-primary radio-sm"},null,512),[[M,i.inputMode]]),Zi]),e("label",Ki,[f(e("input",{type:"radio",value:"mm","onUpdate:modelValue":t[2]||(t[2]=n=>i.inputMode=n),class:"radio radio-primary radio-sm"},null,512),[[M,i.inputMode]]),Xi])])]),e("div",en,[e("label",tn," Central obstruction radius ("+m(i.inputMode==="percent"?"0..1":"mm")+"): ",1),e("input",{class:"input input-bordered input-sm w-full",value:i.centralObstruction,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[3]||(t[3]=n=>o.set("centralObstruction",n.target.value))},null,40,sn)]),e("div",nn,[e("label",on," Zone Start radius ("+m(i.inputMode==="percent"?"0..1":"mm")+"): ",1),e("input",{class:"input input-bordered input-sm w-full",value:i.startRadius,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[4]||(t[4]=n=>o.set("startRadius",n.target.value))},null,40,an)]),e("div",rn,[e("label",ln," Zone End radius ("+m(i.inputMode==="percent"?"0..1":"mm")+"): ",1),e("input",{class:"input input-bordered input-sm w-full",value:i.endRadius,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[5]||(t[5]=n=>o.set("endRadius",n.target.value))},null,40,cn)]),e("div",dn,[e("div",un,[mn,e("div",pn,[e("div",hn,[_n,e("span",bn,"\xA0"+m(o.surfaceArea.toFixed(2))+" mm\xB2",1)]),e("div",fn,[gn,e("span",vn,"\xA0"+m(o.percentageTotal.toFixed(2))+"%",1)]),e("p",null,[xn,e("strong",null,m(o.percentageUnobstructed.toFixed(2)),1),Sn]),yn])]),$n]),e("div",wn,[On,e("div",Pn,[e("canvas",Rn,null,512)])])])}var Cn=v(ji,[["render",kn]]);const C="__sagittaFringes",Mn={name:"SagittaFringes",components:{OpticalPieceSelector:I},data(){return{lambda:_(C,"lambda","550"),contactDiameter:_(C,"contactDiameter",""),concaveRoc:_(C,"concaveRoc",""),nbFringes:_(C,"nbFringes",""),relativeShape:_(C,"relativeShape","1")}},methods:{set(s,t){B(this,C,this,s,t)},onOpticalPieceSelected(s){this.set("concaveRoc",s.radiusOfCurvature),this.set("contactDiameter",s.radius*2)}},computed:{rocTestFace(){const s=k=>(k||"").replace(",","."),t=k=>Number(s(k)),r=t(this.lambda),c=t(this.contactDiameter),i=t(this.concaveRoc),o=t(this.nbFringes),a=t(this.relativeShape);if(c===0||i===0)return NaN;const n=c/2,p=Math.sqrt(i*i-n*n);if(isNaN(p))return NaN;const b=i-p,R=a*o*r/2e6,A=b-R;return A/2+c*c/(8*A)}}},In=e("div",{class:"card-title justify-center mb-3"},[e("div",{class:"badge badge-outline badge-sm"}," ROC Fringes Calculator ")],-1),An={key:0,class:"alert alert-success mt-4 py-2"},Fn={class:"text-sm font-semibold"},Dn=l("RoC of face under test: "),Nn=l(" mm"),Bn={key:1,class:"alert alert-error mt-4 py-2"},zn=e("span",{class:"text-sm font-semibold"},"Invalid input values",-1),Tn=[zn],Un={class:"field-horizontal"},Vn=e("label",{class:"label text-xs font-medium"},"Lambda (nm):",-1),En=["value"],jn={class:"field-horizontal"},Hn=e("label",{class:"label text-xs font-medium"},"Contact diameter (mm):",-1),qn=["value"],Ln={class:"field-horizontal"},Jn=e("label",{class:"label text-xs font-medium"},"Concave caliber RoC (mm):",-1),Gn=["value"],Wn={class:"field-horizontal"},Yn=e("label",{class:"label text-xs font-medium"},"Number of fringes:",-1),Qn=["value"],Zn={class:"field-horizontal"},Kn=e("label",{class:"label text-xs font-medium"},"Relative shape:",-1),Xn={class:"flex gap-3"},eo={class:"cursor-pointer flex items-center gap-1"},to=["checked"],so=e("span",{class:"text-xs"},"Concavity (+1)",-1),io={class:"cursor-pointer flex items-center gap-1"},no=["checked"],oo=e("span",{class:"text-xs"},"Convexity (-1)",-1);function ao(s,t,r,c,i,o){const a=S("OpticalPieceSelector");return d(),u("div",null,[In,g(a,{onOpticalPieceSelected:o.onOpticalPieceSelected},null,8,["onOpticalPieceSelected"]),isNaN(o.rocTestFace)?(d(),u("div",Bn,Tn)):(d(),u("div",An,[e("span",Fn,[Dn,e("strong",null,m(o.rocTestFace.toFixed(2)),1),Nn])])),e("div",Un,[Vn,e("input",{class:"input input-bordered input-sm w-full",value:i.lambda,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[0]||(t[0]=n=>o.set("lambda",n.target.value))},null,40,En)]),e("div",jn,[Hn,e("input",{class:"input input-bordered input-sm w-full",value:i.contactDiameter,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[1]||(t[1]=n=>o.set("contactDiameter",n.target.value))},null,40,qn)]),e("div",Ln,[Jn,e("input",{class:"input input-bordered input-sm w-full",value:i.concaveRoc,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[2]||(t[2]=n=>o.set("concaveRoc",n.target.value))},null,40,Gn)]),e("div",Wn,[Yn,e("input",{class:"input input-bordered input-sm w-full",value:i.nbFringes,inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",onInput:t[3]||(t[3]=n=>o.set("nbFringes",n.target.value))},null,40,Qn)]),e("div",Zn,[Kn,e("div",Xn,[e("label",eo,[e("input",{type:"radio",name:"relativeShape",value:"1",checked:i.relativeShape==="1",onChange:t[4]||(t[4]=n=>o.set("relativeShape","1")),class:"radio radio-primary radio-sm"},null,40,to),so]),e("label",io,[e("input",{type:"radio",name:"relativeShape",value:"-1",checked:i.relativeShape==="-1",onChange:t[5]||(t[5]=n=>o.set("relativeShape","-1")),class:"radio radio-primary radio-sm"},null,40,no),oo])])])])}var ro=v(Mn,[["render",ao]]);const lo={name:"Hardware",data(){return{spherometers:[],opticalPieces:[],newSpherometer:{name:"",feetRadius:null,ballRadius2:null},newOpticalPiece:{name:"",radius:null,radiusOfCurvature:null},editingSpherometerIndex:null,editingOpticalPieceIndex:null}},computed:{isSpherometerValid(){return this.newSpherometer.name&&this.newSpherometer.feetRadius>0&&this.newSpherometer.ballRadius2>0},isOpticalPieceValid(){return this.newOpticalPiece.name&&this.newOpticalPiece.radius>0&&this.newOpticalPiece.radiusOfCurvature>0}},mounted(){this.loadData()},methods:{loadData(){this.spherometers=_("__hardware","spherometers",[]),this.opticalPieces=_("__hardware","opticalPieces",[])},saveData(){const s=_("__hardware",null,{});s.spherometers=this.spherometers,s.opticalPieces=this.opticalPieces,localStorage.setItem("__hardware",JSON.stringify(s))},addSpherometer(){if(!this.isSpherometerValid)return;const s={name:this.newSpherometer.name,feetRadius:this.newSpherometer.feetRadius,ballRadius2:this.newSpherometer.ballRadius2};this.editingSpherometerIndex!==null?(this.spherometers[this.editingSpherometerIndex]=s,this.editingSpherometerIndex=null):this.spherometers.push(s),this.saveData(),this.resetSpherometerForm()},editSpherometer(s){const t=this.spherometers[s];this.newSpherometer=F({},t),this.editingSpherometerIndex=s},deleteSpherometer(s){confirm("Are you sure you want to delete this spherometer?")&&(this.spherometers.splice(s,1),this.saveData())},cancelEditSpherometer(){this.editingSpherometerIndex=null,this.resetSpherometerForm()},resetSpherometerForm(){this.newSpherometer={name:"",feetRadius:null,ballRadius2:null}},addOpticalPiece(){if(!this.isOpticalPieceValid)return;const s={name:this.newOpticalPiece.name,radius:this.newOpticalPiece.radius,radiusOfCurvature:this.newOpticalPiece.radiusOfCurvature};this.editingOpticalPieceIndex!==null?(this.opticalPieces[this.editingOpticalPieceIndex]=s,this.editingOpticalPieceIndex=null):this.opticalPieces.push(s),this.saveData(),this.resetOpticalPieceForm()},editOpticalPiece(s){const t=this.opticalPieces[s];this.newOpticalPiece=F({},t),this.editingOpticalPieceIndex=s},deleteOpticalPiece(s){confirm("Are you sure you want to delete this optical piece?")&&(this.opticalPieces.splice(s,1),this.saveData())},cancelEditOpticalPiece(){this.editingOpticalPieceIndex=null,this.resetOpticalPieceForm()},resetOpticalPieceForm(){this.newOpticalPiece={name:"",radius:null,radiusOfCurvature:null}},exportData(){const s={spherometers:this.spherometers,opticalPieces:this.opticalPieces,exportDate:new Date().toISOString(),version:"1.0"},t=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),c=document.createElement("a");c.href=r,c.download=`atm-buddy-hardware-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(r)},importData(s){const t=s.target.files[0];if(!t)return;const r=new FileReader;r.onload=c=>{try{const i=JSON.parse(c.target.result);if(!this.validateImportData(i)){alert("Invalid file format. Please select a valid ATM Buddy hardware export file.");return}const o=i.spherometers||[],a=i.opticalPieces||[];o.forEach(n=>{const p=this.spherometers.find(b=>b.name===n.name);if(p){if(confirm(`Spherometer "${n.name}" already exists. Replace it?`)){const b=this.spherometers.indexOf(p);this.spherometers[b]=n}}else this.spherometers.push(n)}),a.forEach(n=>{const p=this.opticalPieces.find(b=>b.name===n.name);if(p){if(confirm(`Optical piece "${n.name}" already exists. Replace it?`)){const b=this.opticalPieces.indexOf(p);this.opticalPieces[b]=n}}else this.opticalPieces.push(n)}),this.saveData(),alert(`Import completed! Added ${o.length} spherometers and ${a.length} optical pieces.`)}catch{alert("Error reading file. Please make sure it's a valid JSON file.")}this.$refs.fileInput.value=""},r.readAsText(t)},validateImportData(s){if(typeof s!="object"||s===null||!Array.isArray(s.spherometers)&&!Array.isArray(s.opticalPieces))return!1;if(s.spherometers){for(const t of s.spherometers)if(!t.name||typeof t.feetRadius!="number"||typeof t.ballRadius2!="number")return!1}if(s.opticalPieces){for(const t of s.opticalPieces)if(!t.name||typeof t.radius!="number"||typeof t.radiusOfCurvature!="number")return!1}return!0}}},co={class:"space-y-6"},uo={class:"text-sm"},mo=e("div",{class:"card-title justify-center mb-3"},[e("div",{class:"badge badge-outline badge-sm"},"Hardware Manager")],-1),po={class:"card bg-base-200 p-3 mb-3"},ho=e("h2",{class:"text-sm font-semibold mb-2"},"Import/Export",-1),_o={class:"flex gap-1 flex-wrap"},bo={class:"btn btn-success btn-xs"},fo=l(" \u{1F4E5} Import "),go=e("p",{class:"text-gray-500 text-xs mt-1"}," \u{1F4A1} Export your hardware data to backup or share with other devices. Import will merge with existing data. ",-1),vo={class:"card bg-base-200 p-3"},xo=e("h2",{class:"text-sm font-semibold mb-2"},"Spherometers",-1),So={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-1 mb-2"},yo={class:"flex gap-1"},$o=["disabled"],wo={key:0,class:"overflow-x-auto"},Oo={class:"table table-xs w-full"},Po=e("thead",null,[e("tr",null,[e("th",{class:"text-xs"},"Name"),e("th",{class:"text-xs"},"Feet R (mm)"),e("th",{class:"text-xs"},"Ball D (mm)"),e("th",{class:"text-xs"},"Actions")])],-1),Ro={class:"text-xs"},ko={class:"text-xs"},Co={class:"text-xs"},Mo=["onClick"],Io=["onClick"],Ao={key:1,class:"text-gray-500 text-xs"},Fo={class:"card bg-base-200 p-3"},Do=e("h2",{class:"text-sm font-semibold mb-2"},"Optical Pieces",-1),No={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-1 mb-2"},Bo={class:"flex gap-1"},zo=["disabled"],To={key:0,class:"overflow-x-auto"},Uo={class:"table table-xs w-full"},Vo=e("thead",null,[e("tr",null,[e("th",{class:"text-xs"},"Name"),e("th",{class:"text-xs"},"R (mm)"),e("th",{class:"text-xs"},"RoC (mm)"),e("th",{class:"text-xs"},"Actions")])],-1),Eo={class:"text-xs"},jo={class:"text-xs"},Ho={class:"text-xs"},qo=["onClick"],Lo=["onClick"],Jo={key:1,class:"text-gray-500 text-xs"};function Go(s,t,r,c,i,o){return d(),u("div",co,[e("div",uo,[mo,e("div",po,[ho,e("div",_o,[e("button",{class:"btn btn-info btn-xs",onClick:t[0]||(t[0]=(...a)=>o.exportData&&o.exportData(...a))}," \u{1F4E4} Export "),e("label",bo,[fo,e("input",{type:"file",accept:".json",onChange:t[1]||(t[1]=(...a)=>o.importData&&o.importData(...a)),style:{display:"none"},ref:"fileInput"},null,544)])]),go]),e("div",vo,[xo,e("div",So,[f(e("input",{class:"input input-bordered input-sm",type:"text",placeholder:"Name","onUpdate:modelValue":t[2]||(t[2]=a=>i.newSpherometer.name=a)},null,512),[[$,i.newSpherometer.name]]),f(e("input",{class:"input input-bordered input-sm",inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",placeholder:"Feet radius (mm)","onUpdate:modelValue":t[3]||(t[3]=a=>i.newSpherometer.feetRadius=a)},null,512),[[$,i.newSpherometer.feetRadius,void 0,{number:!0}]]),f(e("input",{class:"input input-bordered input-sm",inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",placeholder:"Ball diameter (mm)","onUpdate:modelValue":t[4]||(t[4]=a=>i.newSpherometer.ballRadius2=a)},null,512),[[$,i.newSpherometer.ballRadius2,void 0,{number:!0}]]),e("div",yo,[e("button",{class:"btn btn-primary btn-xs flex-1",onClick:t[5]||(t[5]=(...a)=>o.addSpherometer&&o.addSpherometer(...a)),disabled:!o.isSpherometerValid},m(i.editingSpherometerIndex!==null?"Update":"Add"),9,$o),i.editingSpherometerIndex!==null?(d(),u("button",{key:0,class:"btn btn-outline btn-xs",onClick:t[6]||(t[6]=(...a)=>o.cancelEditSpherometer&&o.cancelEditSpherometer(...a))}," \xD7 ")):D("",!0)])]),i.spherometers.length>0?(d(),u("div",wo,[e("table",Oo,[Po,e("tbody",null,[(d(!0),u(O,null,P(i.spherometers,(a,n)=>(d(),u("tr",{key:n},[e("td",Ro,m(a.name),1),e("td",ko,m(a.feetRadius),1),e("td",Co,m(a.ballRadius2),1),e("td",null,[e("button",{class:"btn btn-info btn-xs mr-1",onClick:p=>o.editSpherometer(n)}," Edit ",8,Mo),e("button",{class:"btn btn-error btn-xs",onClick:p=>o.deleteSpherometer(n)}," \xD7 ",8,Io)])]))),128))])])])):(d(),u("p",Ao," No spherometers added yet. "))]),e("div",Fo,[Do,e("div",No,[f(e("input",{class:"input input-bordered input-sm",type:"text",placeholder:"Name","onUpdate:modelValue":t[7]||(t[7]=a=>i.newOpticalPiece.name=a)},null,512),[[$,i.newOpticalPiece.name]]),f(e("input",{class:"input input-bordered input-sm",inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",placeholder:"Radius (mm)","onUpdate:modelValue":t[8]||(t[8]=a=>i.newOpticalPiece.radius=a)},null,512),[[$,i.newOpticalPiece.radius,void 0,{number:!0}]]),f(e("input",{class:"input input-bordered input-sm",inputmode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",placeholder:"ROC (mm)","onUpdate:modelValue":t[9]||(t[9]=a=>i.newOpticalPiece.radiusOfCurvature=a)},null,512),[[$,i.newOpticalPiece.radiusOfCurvature,void 0,{number:!0}]]),e("div",Bo,[e("button",{class:"btn btn-primary btn-xs flex-1",onClick:t[10]||(t[10]=(...a)=>o.addOpticalPiece&&o.addOpticalPiece(...a)),disabled:!o.isOpticalPieceValid},m(i.editingOpticalPieceIndex!==null?"Update":"Add"),9,zo),i.editingOpticalPieceIndex!==null?(d(),u("button",{key:0,class:"btn btn-outline btn-xs",onClick:t[11]||(t[11]=(...a)=>o.cancelEditOpticalPiece&&o.cancelEditOpticalPiece(...a))}," \xD7 ")):D("",!0)])]),i.opticalPieces.length>0?(d(),u("div",To,[e("table",Uo,[Vo,e("tbody",null,[(d(!0),u(O,null,P(i.opticalPieces,(a,n)=>(d(),u("tr",{key:n},[e("td",Eo,m(a.name),1),e("td",jo,m(a.radius),1),e("td",Ho,m(a.radiusOfCurvature),1),e("td",null,[e("button",{class:"btn btn-info btn-xs mr-1",onClick:p=>o.editOpticalPiece(n)}," Edit ",8,qo),e("button",{class:"btn btn-error btn-xs",onClick:p=>o.deleteOpticalPiece(n)}," \xD7 ",8,Lo)])]))),128))])])])):(d(),u("p",Jo," No optical pieces added yet. "))])])])}var Wo=v(lo,[["render",Go]]);const Yo={computed:{routes(){return this.$router.getRoutes()}}},Qo=e("div",{class:"text-center mb-6"},[e("p",{class:"text-sm text-gray-600"},"Mobile-friendly collection of tools for Amateur Telescope Makers")],-1),Zo={class:"grid gap-3"},Ko={class:"card bg-base-200 p-3"},Xo=e("h2",{class:"text-sm font-semibold mb-2"},"Available Tools",-1),ea={class:"grid grid-cols-1 gap-2"},ta=e("div",{class:"card bg-base-200 p-3"},[e("h2",{class:"text-sm font-semibold mb-2"},"About"),e("p",{class:"text-xs text-gray-600"}," This application provides specialized calculators and reference tools for Amateur Telescope Makers (ATMs). All calculations are performed client-side and work offline after initial load. ")],-1);function sa(s,t,r,c,i,o){const a=S("router-link");return d(),u("div",null,[Qo,e("div",Zo,[e("div",Ko,[Xo,e("div",ea,[(d(!0),u(O,null,P(o.routes.filter(n=>n.path!=="/"),n=>(d(),se(a,{key:n.path,to:n.path,class:"btn btn-outline btn-sm justify-start text-xs"},{default:w(()=>[l(m(n.name),1)]),_:2},1032,["to"]))),128))])]),ta])])}var ia=v(Yo,[["render",sa]]);document.documentElement.setAttribute("data-theme","light");const na=ie({history:ne(),routes:[{path:"/",name:"\u{1F3E0} Home",component:ia},{path:"/sphero",name:"\u{1F4CF} Spherometer to ROC",component:rt},{path:"/reverse_sphero",name:"\u{1F504} ROC to Spherometer",component:It},{path:"/sagitta",name:"\u{1F4D0} Sagitta Calculator",component:Ei},{path:"/sine_table",name:"\u{1F4CA} Sine table",component:rs},{path:"/mpcc_hyperbolic",name:"\u{1F52D} Baader MPCCIII Hyperbola",component:ws},{path:"/spray_silvering",name:"\u{1FA9E} Spray Silvering calculations",component:Si},{path:"/stig",name:"\u{1F441}\uFE0F Stig Correction Reminder",component:Ri},{path:"/annular_ring",name:"\u2B55 Annular Ring Calculator",component:Cn},{path:"/sagitta_fringes",name:"\u{1F30A} ROC Fringes",component:ro},{path:"/hardware",name:"\u{1F527} Hardware",component:Wo}]});oe(ve).use(na).mount("#app");
